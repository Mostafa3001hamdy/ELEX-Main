-- إضافة حقول جديدة لجدول service
ALTER TABLE service 
ADD COLUMN IF NOT EXISTS description TEXT,
ADD COLUMN IF NOT EXISTS detailed_description TEXT,
ADD COLUMN IF NOT EXISTS slug TEXT,
ADD COLUMN IF NOT EXISTS image_url TEXT;

-- إضافة فهرس على slug للبحث السريع
CREATE INDEX IF NOT EXISTS idx_service_slug ON service(slug);

-- تحديث البيانات الموجودة بوصف وروابط
UPDATE service SET 
  description = 'تصميم وتنفيذ أنظمة الإضاءة الحديثة والمتطورة',
  detailed_description = 'نقدم خدمات تصميم الإضاءة الشاملة التي تتضمن دراسة المساحات وتحديد أنواع الإضاءة المناسبة لكل منطقة. فريقنا المتخصص يعمل على تصميم أنظمة إضاءة موفرة للطاقة وتوفر الراحة البصرية المطلوبة. نستخدم أحدث التقنيات في مجال LED والإضاءة الذكية لضمان الحصول على نتائج مثلى تجمع بين الجمال والكفاءة.',
  slug = 'lighting-design'
WHERE category = 'تصميم الإضاءة' AND id = 1;

UPDATE service SET 
  description = 'تنفيذ وصيانة جميع أنواع التركيبات الكهربائية',
  detailed_description = 'نوفر خدمات كهربائية متكاملة تشمل تصميم وتنفيذ الدوائر الكهربائية، تركيب لوحات التوزيع، وأعمال الكابلات. فريقنا من المهندسين والفنيين المعتمدين يضمن تنفيذ جميع الأعمال وفقاً للمعايير الدولية للسلامة. نقدم خدمات الصيانة الدورية والطارئة لضمان استمرارية عمل الأنظمة الكهربائية بكفاءة عالية.',
  slug = 'electrical-works'
WHERE category = 'الأعمال الكهربائية' AND id = 4;

UPDATE service SET 
  description = 'أنظمة التحكم الذكي والأتمتة المنزلية والتجارية',
  detailed_description = 'نتخصص في تصميم وتركيب أنظمة KNX للتحكم الذكي في الإضاءة، التكييف، والستائر. هذه الأنظمة توفر راحة استثنائية وتوفيراً في استهلاك الطاقة يصل إلى 30%. يمكن التحكم في جميع الأجهزة من خلال تطبيق واحد على الهاتف الذكي أو الأجهزة اللوحية. نقدم برمجة مخصصة حسب احتياجات كل عميل.',
  slug = 'smart-control'
WHERE category = 'التحكم الذكي' AND id = 5;

UPDATE service SET 
  description = 'تركيب وصيانة أنظمة التكييف والتهوية',
  detailed_description = 'نقدم حلول تكييف شاملة تتضمن التصميم والتركيب والصيانة لأنظمة التكييف المركزي والمنفصل. فريقنا متخصص في أحدث تقنيات التبريد الموفرة للطاقة. نوفر خدمات الصيانة الدورية والطارئة، وتنظيف المكيفات، وإصلاح جميع الأعطال. جميع أعمالنا مضمونة ونستخدم قطع غيار أصلية من أفضل الماركات العالمية.',
  slug = 'air-conditioning'
WHERE category = 'أنظمة التكييف' AND id = 6;